<section class="custom-carousel">
  <div class="swiper-container">
    <div class="swiper-wrapper">
      {%- for block in section.blocks -%}
        {%- if block.type == 'slide' -%}
          <div class="swiper-slide">
            <!-- Image -->
            <div class="carousel-image">
              <img src="{{ block.settings.image | img_url: '800x' }}" alt="{{ block.settings.alt_text | escape }}">
            </div>

            <!-- Text Content -->
            <div class="carousel-text">
              <h2>{{ block.settings.slide_heading }}</h2>
              <p>{{ block.settings.slide_description }}</p>
              <!-- Custom Progress Bars -->
              <ul class="custom-sliders">
                <li>
                  <span>Gentleness</span>
                  <div class="slider">
                    <div class="slider-fill" style="width: {{ block.settings.gentleness }}%;"></div>
                  </div>
                </li>
                <li>
                  <span>Nourishment</span>
                  <div class="slider">
                    <div class="slider-fill" style="width: {{ block.settings.nourishment }}%;"></div>
                  </div>
                </li>
                <li>
                  <span>Staying Power</span>
                  <div class="slider">
                    <div class="slider-fill" style="width: {{ block.settings.staying_power }}%;"></div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        {%- endif -%}
      {%- endfor -%}
    </div>

    <!-- Navigation Buttons -->
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
  </div>
</section>



<style>
.custom-carousel {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
}

.swiper-container {
  position: relative;
  width: 100%;
  overflow: hidden;
}

.swiper-wrapper {
  display: flex;
}

.swiper-slide {
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: 100%;
}

.carousel-image img {
  max-width: 100%;
  height: auto;
  object-fit: contain;
}

.carousel-text {
  max-width: 50%;
  padding: 20px;
}

.custom-sliders li {
  list-style: none;
  margin: 0 0 10px;
}

.custom-sliders .slider {
  height: 6px;
  background: #e0e0e0;
  border-radius: 3px;
  overflow: hidden;
  position: relative;
}

.custom-sliders .slider-fill {
  height: 100%;
  background: #f28b54;
  width: 0;
  transition: width 0.3s ease;
}

.swiper-button-prev,
.swiper-button-next {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 10;
  width: 30px;
  height: 30px;
  background: transparent;
  border: none;
  cursor: pointer;
}

.swiper-button-prev {
  left: 10px;
}

.swiper-button-next {
  right: 10px;
}

.swiper-button-prev::after,
.swiper-button-next::after {
  content: '';
  display: block;
  width: 10px;
  height: 10px;
  border: solid #000;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}

.swiper-button-prev::after {
  transform: rotate(-135deg);
}

.swiper-button-next::after {
  transform: rotate(45deg);
}

</style>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    new Swiper('.swiper-container', {
      loop: true,
      slidesPerView: 1,
      spaceBetween: 0,
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      breakpoints: {
        768: {
          slidesPerView: 1,
        },
      },
    });
  });
</script>

{% schema %}
{
  "name": "Custom Carousel",
  "settings": [],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "alt_text",
          "label": "Alt Text",
          "default": "Slide image"
        },
        {
          "type": "text",
          "id": "slide_heading",
          "label": "Heading",
          "default": "Slide Heading"
        },
        {
          "type": "textarea",
          "id": "slide_description",
          "label": "Description",
          "default": "Slide description text goes here."
        },
        {
          "type": "range",
          "id": "gentleness",
          "label": "Gentleness",
          "min": 0,
          "max": 100,
          "step": 1,
          "default": 50
        },
        {
          "type": "range",
          "id": "nourishment",
          "label": "Nourishment",
          "min": 0,
          "max": 100,
          "step": 1,
          "default": 50
        },
        {
          "type": "range",
          "id": "staying_power",
          "label": "Staying Power",
          "min": 0,
          "max": 100,
          "step": 1,
          "default": 50
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom Carousel",
    }
  ]
}
{% endschema %}