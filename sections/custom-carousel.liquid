<section>
<div class="carousel product-slider">
  {%- for block in section.blocks -%}
  <div class="carousel-cell">
    <img src="{{ block.settings.image | img_url: '800x' }}" alt="{{ block.settings.alt_text }}">
    <div class="text-content">
      <h2>{{ block.settings.heading }}</h2>
      <p>{{ block.settings.description }}</p>
    </div>
  </div>
  {%- endfor -%}
</div>
</section>

<style>
.carousel {
  width: 100%;
  overflow: hidden;
}

.carousel-cell {
  width: 100%;
  height: auto;
  margin-right: 10px;
}

.carousel img {
  display: block;
  max-width: 100%;
  object-fit: contain;
}
</style>

<script>
var elem = document.querySelector('.product-slider');
var flkty = new Flickity(elem, {
  cellAlign: 'left',
  contain: true,
  wrapAround: true,
  prevNextButtons: true,
  pageDots: false,
});

</script>

{% schema %}
{
  "name": "Custom Carousel",
  "settings": [],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "alt_text",
          "label": "Alt Text",
          "default": "Slide image"
        },
        {
          "type": "text",
          "id": "slide_heading",
          "label": "Heading",
          "default": "Slide Heading"
        },
        {
          "type": "textarea",
          "id": "slide_description",
          "label": "Description",
          "default": "Slide description text goes here."
        },
        {
          "type": "range",
          "id": "gentleness",
          "label": "Gentleness",
          "min": 0,
          "max": 100,
          "step": 1,
          "default": 50
        },
        {
          "type": "range",
          "id": "nourishment",
          "label": "Nourishment",
          "min": 0,
          "max": 100,
          "step": 1,
          "default": 50
        },
        {
          "type": "range",
          "id": "staying_power",
          "label": "Staying Power",
          "min": 0,
          "max": 100,
          "step": 1,
          "default": 50
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom Carousel",
    }
  ]
}
{% endschema %}